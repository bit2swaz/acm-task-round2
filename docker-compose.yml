services:
  # --- THE BACKENDS ---
  app-a:
    image: hashicorp/http-echo
    container_name: app_a
    command: -text="ðŸŸ¦ VERSION A (Weight 5)"
    networks:
      - ab_net

  app-b:
    image: hashicorp/http-echo
    container_name: app_b
    command: -text="ðŸŸ© VERSION B (Weight 5)"
    networks:
      - ab_net

  proxy:
    build: .
    container_name: custom_go_proxy
    ports:
      - "8080:80"
    depends_on:
      - app-a
      - app-b
    networks:
      - ab_net

networks:
  ab_net: